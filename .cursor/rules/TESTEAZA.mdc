---
alwaysApply: true
---


# ğŸ§ª Regula Testing Extensiv (la cerere explicitÄƒ)

**ACTIVARE:** Doar cÃ¢nd utilizatorul cere explicit "testeazÄƒ extensiv" sau "test1".

## ğŸ¯ Proces de Testare ExtensivÄƒ

1. **Browser Testing** (Chrome, Firefox, Edge)
   - NavigheazÄƒ la toate tab-urile ("Vizualizare InteractivÄƒ", "Procesare Ã®n Lot")
   - TesteazÄƒ upload CSV (drag-drop + click)
   - VerificÄƒ responsive pe mobile/tablet/desktop (360px, 768px, 1920px)

2. **FuncÈ›ionalitÄƒÈ›i Core**
   - **Upload CSV Checkme O2**: Format romÃ¢nesc (`Timp,Nivel de oxigen,Puls cardiac,MiÅŸcare`)
   - **Extragere Device Number**: Din filename `Checkme O2 0331_20251015203510.csv` â†’ 0331
   - **Parsare Timestamp**: Format `HH:MM:SS DD/MM/YYYY` â†’ datetime
   - **Grafic Interactiv per Ãnregistrare**: Zoom, pan, hover, tooltip-uri (SpO2 + Puls)
   - **Bulk Upload + Asociere ManualÄƒ**: 
     - Upload 10-20 fiÈ™iere (5-10 perechi CSV+PDF)
     - Dialog "SelectaÈ›i pacient pentru fiecare test"
     - OpÈ›iune A: "CreeazÄƒ Link NOU" â†’ genereazÄƒ UUID persistent
     - OpÈ›iune B: "AdaugÄƒ la Link EXISTENT" â†’ dropdown listÄƒ pacienÈ›i
   - **Link-uri Persistente**: 
     - 1 link = 1 pacient real (poate avea N teste)
     - Link fÄƒrÄƒ expirare (valid indefinit)
     - Pacient bookmarkeazÄƒ link o singurÄƒ datÄƒ
   - **AfiÈ™are MultiplÄƒ ÃnregistrÄƒri**: 
     - Un link â†’ N secÈ›iuni separate (carduri/acordeon)
     - Fiecare test = titlu + grafic + raport SEPARAT
     - Nu se amestecÄƒ datele Ã®ntre Ã®nregistrÄƒri
   - **Merge Links**: 
     - FuncÈ›ionalitate "UneÈ™te Link-uri"
     - Selectare 2+ link-uri â†’ unire Ã®n unul
     - Link source â†’ redirect cÄƒtre link target
     - Toate testele vizibile pe link-ul final
   - **Configurare Culori**: Test switch Ã®ntre profile (colors_config.json)
   - **Export Grafice per Ãnregistrare**: JPG/PNG cu watermark (rezoluÈ›ie, titlu descriptiv)
   - **Zoom Dinamic**: VerificÄƒ scalare grosime linie la zoom

3. **Error Scenarios**
   - **CSV format greÈ™it**: Coloane Ã®n englezÄƒ (ar trebui Ã®n romÃ¢nÄƒ!)
   - **CSV coloane lipsÄƒ**: FÄƒrÄƒ "Timp" sau "Nivel de oxigen"
   - **CSV cu date personale**: Coloane Nume/CNP (ar trebui respins automat)
   - **Timestamp invalid**: Format greÈ™it (nu `HH:MM:SS DD/MM/YYYY`)
   - **Filename greÈ™it**: Nu match pattern `Checkme O2 [NNNN]_[timestamp].csv`
   - **Valori invalide SaO2**: < 0, > 100 (ar trebui filtrate)
   - **Valori invalide Puls**: < 30, > 200 (ar trebui filtrate)
   - **FiÈ™iere prea mari**: > 50MB (Ã®nregistrare > 24h)
   - **Encoding greÈ™it**: Nu UTF-8 (caractere romÃ¢neÈ™ti corupte: MiÅŸcare â†’ Mi?care)
   - **Bulk upload mixed devices**: CSV-uri de la aparate diferite (0331 + 3539) â†’ medic decide asociere
   - **PDF fÄƒrÄƒ CSV corespunzÄƒtor**: PDF existÄƒ dar CSV lipseÈ™te (sau invers)
   - **Duplicate upload**: AcelaÈ™i fiÈ™ier uploadat de 2 ori (ar trebui detectat, nu test duplicate)
   - **Merge links acelaÈ™i link**: Ãncercare unire link cu el Ã®nsuÈ™i (ar trebui respins)
   - **Link inexistent**: Ãncercare adÄƒugare test la link È™ters/invalid
   - **Redirect loops**: DupÄƒ merge, link source â†’ redirect corect (nu loop infinit)
   - **Folder batch inexistent** / **Permission denied la scriere output**

4. **Performance**
   - CSV parsing < 2s pentru 10,000 Ã®nregistrÄƒri
   - Graph generation < 3s pentru 8h date
   - Batch processing 10 fiÈ™iere < 60s
   - No memory leaks (verificÄƒ task manager)
   - Mobile scroll smooth (60fps)

5. **Date Medicale**
   - **Validare SaO2**: 0-100% (Nivel de oxigen)
   - **Validare Puls**: 30-200 bpm (Puls cardiac)
   - **MiÈ™care**: 0-25+ (indicator artefacte)
   - **Timestamp continuitate**: Detectare gap-uri > 10 secunde
   - **Coloane obligatorii ROMÃ‚NÄ‚**: `Timp`, `Nivel de oxigen`, `Puls cardiac`
   - **Format timestamp**: `HH:MM:SS DD/MM/YYYY` (ex: `20:35:10 15/10/2025`)
   - **FrecvenÈ›Äƒ**: ~4 secunde Ã®ntre mÄƒsurÄƒtori (variabilÄƒ)
   - **Interpolation**: VerificÄƒ dacÄƒ funcÈ›ioneazÄƒ cu frecvenÈ›Äƒ variabilÄƒ

6. **Anonimizare & Privacy (CRUCIAL!)**
   - **CSV fÄƒrÄƒ date personale**: VerificÄƒ cÄƒ nu existÄƒ coloane Nume/Prenume/CNP/Pacient
   - **Coloane permise DOAR**: `Timp`, `Nivel de oxigen`, `Puls cardiac`, `MiÅŸcare`
   - **NumÄƒr aparat**: Extras din filename, NU din CSV (`Checkme O2 0331_...` â†’ 0331)
   - **Link-uri PERSISTENTE token-based**: 
     - Format UUID v4 random (nu ID secvenÈ›ial predictibil)
     - **1 link per PACIENT** (reutilizabil pentru teste multiple Ã®n timp)
     - Link fÄƒrÄƒ expirare (valid indefinit)
     - Asociere manualÄƒ medic (link nou SAU link existent)
   - **Asociere PacienÈ›i**: 
     - Medic decide manual: test nou â†’ link nou SAU test la pacient existent
     - Ex: Aparat 0331, 15 Oct â†’ Link ABC (Ion Popescu)
     - Ex: Aparat 0331, 16 Oct â†’ AdaugÄƒ la link ABC (acelaÈ™i pacient)
     - Ex: Aparat 3539, 20 Oct â†’ AdaugÄƒ la link ABC (aparat diferit, acelaÈ™i pacient!)
   - **Log-uri clean**: VerificÄƒ cÄƒ app_activity.log nu conÈ›ine date identificabile din CSV
   - **Metadata EXIF**: PNG/JPG exportate fÄƒrÄƒ informaÈ›ii pacient
   - **Filename-uri exportate**: FÄƒrÄƒ nume pacient - Ex: `15oct2025_20h35-06h31_Aparat0331.png`
   - **Database**: Token-uri UUID v4 persistente (nu ID auto-increment predictibil)
   - **UI PaginÄƒ Pacient**: 
     - Multiple secÈ›iuni/carduri per Ã®nregistrare (afiÈ™are SEPARATÄ‚)
     - Fiecare card: titlu + grafic + raport + download
     - Zero afiÈ™are date personale (doar date medicale + date test)
   - **Titlu per Ãnregistrare**: Format descriptiv FÄ‚RÄ‚ nume pacient
     - Exemplu: `Ãnregistrare din MarÈ›i 15 Octombrie 2025 seara ora 20:35 pÃ¢nÄƒ Ã®n Miercuri 16 Octombrie 2025 ora 06:31 - Aparat 0331`
   
   **Test format titlu per Ã®nregistrare:**
   - âœ… Ziua sÄƒptÄƒmÃ¢nii corectÄƒ Ã®n romÃ¢nÄƒ (Luni-DuminicÄƒ)
   - âœ… Data formatatÄƒ: "15 Octombrie 2025" (fÄƒrÄƒ zero leading)
   - âœ… Moment zi: "seara" (â‰¥20:00), "dupÄƒ ora 12" (12:00-19:59), "dimineaÈ›a" (<12:00)
   - âœ… Status Ã®ntreruptÄƒ: AfiÈ™at dacÄƒ Ã®nregistrare < 00:00 (miezul nopÈ›ii)
   - âœ… NumÄƒr aparat: 4 cifre string (ex: "0331", "3539") - pÄƒstreazÄƒ 0 leading!
   
   **Test workflow complet:**
   - âœ… Upload 6 fiÈ™iere (3 perechi CSV+PDF)
   - âœ… Dialog asociere: Test 1 â†’ Link NOU (ABC), Test 2 â†’ Link NOU (DEF), Test 3 â†’ Link ABC (adaugÄƒ)
   - âœ… Rezultat: 2 link-uri (ABC cu 2 teste, DEF cu 1 test)
   - âœ… PaginÄƒ pacient ABC: 2 secÈ›iuni SEPARATE (test 15 Oct + test 16 Oct)
   - âœ… Merge links: UneÈ™te DEF â†’ ABC â†’ rezultat: 1 link cu 3 teste
   - âœ… Link DEF â†’ redirect cÄƒtre ABC (bookmark-uri vechi funcÈ›ioneazÄƒ)
   - âœ… Pacient vede 3 Ã®nregistrÄƒri separate pe acelaÈ™i link (nu amestecate!)

7. **Raportare**
   - Screenshot-uri pentru probleme
   - Console errors (Dash warnings)
   - Log-uri din output/LOGS/app_activity.log
   - FiÈ™iere generate (verificÄƒ nume intuitive)
   - **Privacy audit**: ConfirmÄƒ ZERO date personale Ã®n toate output-urile
   - Concluzie: âœ… PASS / âŒ FAIL cu detalii

## âš¡ CÃ¢nd NU se aplicÄƒ
- La orice altÄƒ cerere decÃ¢t "testeazÄƒ extensiv" sau "test1"
- La implementÄƒri normale
- La debugging simplu

---

**Folosire:** Spune **"test1"** sau **"testeazÄƒ extensiv"** pentru a activa aceastÄƒ regulÄƒ.